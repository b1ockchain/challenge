{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rnd/Desktop/challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/rnd/Desktop/challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext}from'react';import Context from'../store/Context';import{Table,Button}from'semantic-ui-react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GetInstitutions=function GetInstitutions(){var _useContext=useContext(Context),state=_useContext.state,dispatch=_useContext.dispatch;var approve=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(adr){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:'SET_LOADING',payload:true});_context.next=4;return state.contract.methods.approve(adr).send({from:state.accounts[0]});case 4:_context.next=8;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);case 8:_context.prev=8;dispatch({type:'SET_LOADING',payload:false});return _context.finish(8);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,6,8,11]]);}));return function approve(_x){return _ref.apply(this,arguments);};}();var disapprove=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(adr){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:'SET_LOADING',payload:true});_context2.next=4;return state.contract.methods.disapprove(adr).send({from:state.accounts[0]});case 4:_context2.next=8;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);case 8:_context2.prev=8;dispatch({type:'SET_LOADING',payload:false});return _context2.finish(8);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6,8,11]]);}));return function disapprove(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(Table.Header,{children:/*#__PURE__*/_jsxs(Table.Row,{children:[/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"Institution Name\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"Institution Address\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"Action\"})]})}),/*#__PURE__*/_jsx(Table.Body,{children:state.institutions.map(function(item){return/*#__PURE__*/_jsxs(Table.Row,{children:[/*#__PURE__*/_jsx(Table.Cell,{children:item[2]}),/*#__PURE__*/_jsx(Table.Cell,{children:item[1]}),/*#__PURE__*/_jsxs(Table.Cell,{children:[item[3]&&/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return disapprove(item[1]);},children:\"Disapprove\"}),!item[3]&&/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return approve(item[1]);},children:\"Approve\"})]})]});})})]});};export default GetInstitutions;","map":{"version":3,"sources":["/Users/rnd/Desktop/challenge/src/components/GetInstitutions.js"],"names":["React","useContext","Context","Table","Button","GetInstitutions","state","dispatch","approve","adr","type","payload","contract","methods","send","from","accounts","disapprove","institutions","map","item"],"mappings":"mSAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,KAAgC,OAAhC,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,OAAQC,KAAR,CAAeC,MAAf,KAA4B,mBAA5B,C,wFAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,gBAA0BJ,UAAU,CAACC,OAAD,CAApC,CAAOI,KAAP,aAAOA,KAAP,CAAcC,QAAd,aAAcA,QAAd,CAED,GAAMC,CAAAA,OAAO,0FAAG,iBAAMC,GAAN,kIAEdF,QAAQ,CAAC,CAACG,IAAI,CAAE,aAAP,CAAsBC,OAAO,CAAE,IAA/B,CAAD,CAAR,CAFc,sBAGRL,CAAAA,KAAK,CAACM,QAAN,CAAeC,OAAf,CACJL,OADI,CACIC,GADJ,EAEJK,IAFI,CAEC,CAACC,IAAI,CAAET,KAAK,CAACU,QAAN,CAAe,CAAf,CAAP,CAFD,CAHQ,6GASdT,QAAQ,CAAC,CAACG,IAAI,CAAE,aAAP,CAAsBC,OAAO,CAAE,KAA/B,CAAD,CAAR,CATc,mGAAH,kBAAPH,CAAAA,OAAO,4CAAb,CAaA,GAAMS,CAAAA,UAAU,2FAAG,kBAAMR,GAAN,uIAEjBF,QAAQ,CAAC,CAACG,IAAI,CAAE,aAAP,CAAsBC,OAAO,CAAE,IAA/B,CAAD,CAAR,CAFiB,uBAGXL,CAAAA,KAAK,CAACM,QAAN,CAAeC,OAAf,CACJI,UADI,CACOR,GADP,EAEJK,IAFI,CAEC,CAACC,IAAI,CAAET,KAAK,CAACU,QAAN,CAAe,CAAf,CAAP,CAFD,CAHW,kHASjBT,QAAQ,CAAC,CAACG,IAAI,CAAE,aAAP,CAAsBC,OAAO,CAAE,KAA/B,CAAD,CAAR,CATiB,sGAAH,kBAAVM,CAAAA,UAAU,8CAAhB,CAaC,mBACE,MAAC,KAAD,yBACD,KAAC,KAAD,CAAO,MAAP,wBACC,MAAC,KAAD,CAAO,GAAP,yBACC,KAAC,KAAD,CAAO,UAAP,+BADD,cAEC,KAAC,KAAD,CAAO,UAAP,kCAFD,cAGC,KAAC,KAAD,CAAO,UAAP,qBAHD,GADD,EADC,cAQD,KAAC,KAAD,CAAO,IAAP,WACEX,KAAK,CAACY,YAAN,CAAmBC,GAAnB,CAAuB,SAAAC,IAAI,CAAI,CAChC,mBACC,MAAC,KAAD,CAAO,GAAP,yBACC,KAAC,KAAD,CAAO,IAAP,WAAaA,IAAI,CAAC,CAAD,CAAjB,EADD,cAEC,KAAC,KAAD,CAAO,IAAP,WAAaA,IAAI,CAAC,CAAD,CAAjB,EAFD,cAGC,MAAC,KAAD,CAAO,IAAP,YACEA,IAAI,CAAC,CAAD,CAAJ,eACD,KAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMH,CAAAA,UAAU,CAACG,IAAI,CAAC,CAAD,CAAL,CAAhB,EAAjB,wBAFD,CAKE,CAACA,IAAI,CAAC,CAAD,CAAL,eACD,KAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMZ,CAAAA,OAAO,CAACY,IAAI,CAAC,CAAD,CAAL,CAAb,EAAjB,qBAND,GAHD,GADD,CAgBA,CAjBC,CADF,EARC,GADF,CAgCD,CA7DD,CA+DA,cAAef,CAAAA,eAAf","sourcesContent":["import React, {useContext} from 'react';\nimport Context from '../store/Context';\nimport {Table, Button} from 'semantic-ui-react';\n\nconst GetInstitutions = () => {\n  const {state, dispatch} = useContext(Context);\n\n\tconst approve = async adr => {\n\t\ttry {\n\t\t\tdispatch({type: 'SET_LOADING', payload: true});\n\t\t\tawait state.contract.methods\n\t\t\t\t.approve(adr)\n\t\t\t\t.send({from: state.accounts[0]});\n\t\t} catch {\n\n\t\t} finally {\n\t\t\tdispatch({type: 'SET_LOADING', payload: false});\n\t\t}\n\t}\n\n\tconst disapprove = async adr => {\n\t\ttry {\n\t\t\tdispatch({type: 'SET_LOADING', payload: true});\n\t\t\tawait state.contract.methods\n\t\t\t\t.disapprove(adr)\n\t\t\t\t.send({from: state.accounts[0]});\n\t\t} catch {\n\n\t\t} finally {\n\t\t\tdispatch({type: 'SET_LOADING', payload: false});\n\t\t}\n\t}\n\n  return (\n    <Table>\n\t\t\t<Table.Header>\n\t\t\t\t<Table.Row>\n\t\t\t\t\t<Table.HeaderCell>Institution Name</Table.HeaderCell>\n\t\t\t\t\t<Table.HeaderCell>Institution Address</Table.HeaderCell>\n\t\t\t\t\t<Table.HeaderCell>Action</Table.HeaderCell>\n\t\t\t\t</Table.Row>\n\t\t\t</Table.Header>\n\t\t\t<Table.Body>\n  \t\t{state.institutions.map(item => {\n\t\t\t\treturn (\n\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t<Table.Cell>{item[2]}</Table.Cell>\n\t\t\t\t\t\t<Table.Cell>{item[1]}</Table.Cell>\n\t\t\t\t\t\t<Table.Cell>\n\t\t\t\t\t\t\t{item[3] &&\n\t\t\t\t\t\t\t<Button onClick={() => disapprove(item[1])}>\n\t\t\t\t\t\t\t\tDisapprove\n\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t\t{!item[3] &&\n\t\t\t\t\t\t\t<Button onClick={() => approve(item[1])}>\n\t\t\t\t\t\t\t\tApprove\n\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t</Table.Row>\n\t\t\t\t)\n\t\t\t})}\n\t\t\t</Table.Body>\n    </Table>\n  )\n\n}\n\nexport default GetInstitutions;\n"]},"metadata":{},"sourceType":"module"}